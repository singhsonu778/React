<!DOCTYPE html>
<html>
<head>
	<title>React Tutorials</title>
	<script src="../third-party/react.js"></script>
	<script src="../third-party/react-dom.js"></script>
	<script src="../third-party/babel.js"></script>
</head>
<body>

	<div id="container"></div>

	<script type="text/jsx">
    
        var Movie = React.createClass({
			
			getInitialState: function() {
				return {editable: false};
			},

			edit: function() {
				this.setState({editable: true});
			},

			remove: function() {
				//this implementation is incomplete
				alert('remove');
			},

			save: function() {
				//this implementation is incomplete
				alert(this.refs.movieName.value);
				this.setState({editable: false});
			},

			displayInfo: function() {
				return (
						<div>
                        	<h1>{this.props.children}</h1>
							<button onClick={this.edit}>Edit</button>
							<button onClick={this.remove}>Remove</button>
						</div>
				);
			},

			editInfo: function() {
				return (
						<div>
                        	<textarea ref='movieName' defaultValue={this.props.children}></textarea><br/>
							<button onClick={this.save}>Save</button>
						</div>
				);
			},

            render: function() {
                if(this.state.editable) {
					return this.editInfo();
				} else {
					return this.displayInfo();
				}
            }
        });

        ReactDOM.render(
						<div>
							<Movie>Dangal</Movie>
							<Movie>Hera Pheri</Movie>
						</div>,
						document.getElementById('container')
		);

    </script>

</body>
</html>